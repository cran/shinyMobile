var f7ActionSheetBinding=new Shiny.InputBinding;$.extend(f7ActionSheetBinding,{find:function(e){},getValue:function(e){},receiveMessage:function(e,n){},subscribe:function(e,n){},unsubscribe:function(e){}}),Shiny.inputBindings.register(f7ActionSheetBinding);var f7AutoCompleteBinding=new Shiny.InputBinding;$.extend(f7AutoCompleteBinding,{initialize:function(e){var n=$(e).attr("id"),i={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["openIn","choices","value","dropdownPlaceholderText"].indexOf(n)){var t="true"==e.value;i[n]=t}else i[n]=e.value}}));var t=JSON.parse(i.choices);i.value=JSON.parse(i.value),"dropdown"==i.openIn?i.inputEl="#"+n:i.openerEl="#"+n,i.on={change:function(e){$("#"+n).find(".item-after").text(e[0]),$("#"+n).find("input").val(e[0]),$("#"+n).trigger("change")}},i.source=function(e,n){var i=[];if(0!==e.length){for(var a=0;a<t.length;a++)t[a].toLowerCase().indexOf(e.toLowerCase())>=0&&i.push(t[a]);n(i)}else n(i)},app.autocomplete.create(i)},find:function(e){return $(e).find(".autocomplete-input")},getValue:function(e){return app.autocomplete.get($(e)).value},setValue:function(e,n){var i=app.autocomplete.get($(e));i.value=n,i.$inputEl[0].value=n,$(e).trigger("change")},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value)},subscribe:function(e,n){$(e).on("change.f7AutoCompleteBinding",(function(e){setTimeout((function(){n()}),10)}))},unsubscribe:function(e){$(e).off(".f7AutoCompleteBinding")}}),Shiny.inputBindings.register(f7AutoCompleteBinding,"f7.autocomplete");var f7ButtonInputBinding=new Shiny.InputBinding;$.extend(f7ButtonInputBinding,{find:function(e){return $(e).find(".f7-action-button")},getValue:function(e){return $(e).data("val")||0},setValue:function(e,n){$(e).data("val",n)},getType:function(e){return"shiny.action"},subscribe:function(e,n){$(e).on("click.f7ButtonInputBinding",(function(e){var i=$(this),t=i.data("val")||0;i.data("val",t+1),n()}))},getState:function(e){return{value:this.getValue(e)}},receiveMessage:function(e,n){var i=$(e);if(n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color)),n.hasOwnProperty("fill")){var t=$(e).hasClass("button-fill");n.fill?t||$(e).addClass("button-fill"):t&&$(e).removeClass("button-fill")}if(n.hasOwnProperty("outline")){var a=$(e).hasClass("button-outline");n.outline?a||$(e).addClass("button-outline"):a&&$(e).removeClass("button-outline")}if(n.hasOwnProperty("shadow")){var r=$(e).hasClass("button-raised");n.shadow?r||$(e).addClass("button-raised"):r&&$(e).removeClass("button-raised")}if(n.hasOwnProperty("rounded")){var s=$(e).hasClass("button-round");n.rounded?s||$(e).addClass("button-round"):s&&$(e).removeClass("button-round")}if(n.hasOwnProperty("size")){var o=$(e).hasClass("button-large"),l=$(e).hasClass("button-small");!o&!l&&$(e).addClass("button-"+n.size),!o&l&&($(e).removeClass("button-small"),$(e).addClass("button-"+n.size)),o&!l&&($(e).removeClass("button-large"),$(e).addClass("button-"+n.size))}var u=i.text();n.hasOwnProperty("label")&&(u=n.label),i.html(u)},unsubscribe:function(e){$(e).off(".f7ButtonInputBinding")}}),Shiny.inputBindings.register(f7ButtonInputBinding,"f7.button"),$(document).on("click","a.f7-action-button",(function(e){e.preventDefault()}));var f7CardBinding=new Shiny.InputBinding;$.extend(f7CardBinding,{find:function(e){return $(e).find(".card-expandable")},getValue:function(e){return $(e).hasClass("card-opened")},receiveMessage:function(e,n){app.card.toggle($(e))},subscribe:function(e,n){$(e).on("card:opened.f7CardBinding card:closed.f7CardBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7CardBinding")}}),Shiny.inputBindings.register(f7CardBinding,"f7.card");var f7CollapsibleBinding=new Shiny.InputBinding;$.extend(f7CollapsibleBinding,{find:function(e){return $(e).find(".collapsible")},getValue:function(e){var n=$($(e)[0]).attr("id"),i=$("#"+n+" li.accordion-item-opened");if(i.length>0){if(1===i.length)return{state:!0,value:$(i[0]).find(".item-title").html()};var t=[];return $(i).each((function(e){t.push($(i[e]).find(".item-title").html())})),{state:!0,value:t}}return{state:!1,value:null}},receiveMessage:function(e,n){if(n.hasOwnProperty("selected")){var i=$($(e)[0]).attr("id"),t=$("#"+i+" .accordion-item"),a=n.selected-1,r=$(t[a]);app.accordion.toggle(r)}},subscribe:function(e,n){$(e).on("accordion:opened.f7CollapsibleBinding accordion:closed.f7CollapsibleBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7CollapsibleBinding")}}),Shiny.inputBindings.register(f7CollapsibleBinding,"f7.collapsible");var f7ColorPickerBinding=new Shiny.InputBinding;$.extend(f7ColorPickerBinding,{initialize:function(e){app.colorPicker.create({inputEl:e,targetEl:$(e).attr("id")+"-value",targetElSetBackgroundColor:!0,modules:colorPickerModules,openIn:"auto",sliderValue:colorPickerSliderValue,sliderValueEditable:colorPickerSliderValueEditable,sliderLabel:colorPickerSliderLabel,hexLabel:colorPickerHexLabel,hexValueEditable:colorPickerHexValueEditable,groupedModules:colorPickerGroupedModules,palette:colorPickerPalettes,value:{hex:colorPickerValue}})},find:function(e){return $(e).find(".color-picker-input")},getValue:function(e){var n=$(e).attr("id");return document.getElementById(n).value},setValue:function(e,n){},receiveMessage:function(e,n){},subscribe:function(e,n){$(e).on("change.f7ColorPickerBinding ",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7ColorPickerBinding ")}}),Shiny.inputBindings.register(f7ColorPickerBinding,"f7.colorpicker");var f7DateBinding=new Shiny.InputBinding;$.extend(f7DateBinding,{find:function(e){return $(e).find(".date-input")},getValue:function(e){return console.log($(e).attr("value")),$(e).attr("value")},setValue:function(e,n){},receiveMessage:function(e,n){},subscribe:function(e,n){$(e).on("keyup.dateInputBinding input.dateInputBinding",(function(e){n(!0)})),$(e).on("change.f7DateBinding",(function(e){n(!1)}))},getRatePolicy:function(){return{policy:"debounce",delay:250}},unsubscribe:function(e){$(e).off(".f7DateBinding")}}),Shiny.inputBindings.register(f7DateBinding,"f7.date");var f7DatePickerBinding=new Shiny.InputBinding;$.extend(f7DatePickerBinding,{initialize:function(e){var n=$(e)[0],i=$(e).parent().find("script[data-for='"+e.id+"']");if((i=JSON.parse(i.html())).hasOwnProperty("value"))for(var t=0;t<i.value.length;t++)i.value[t]=new Date(i.value[t]);else i.value=[new Date];i.inputEl=n;var a=app.calendar.create(i);this["calendar-"+e.id]=a},find:function(e){return $(e).find(".calendar-input")},getType:function(e){return"f7DatePicker.date"},getValue:function(e){return this["calendar-"+e.id].getValue()},setValue:function(e,n){this["calendar-"+e.id].setValue(n)},receiveMessage:function(e,n){if(n.hasOwnProperty("config")&&(this["calendar-"+e.id].destroy(),n.config.inputEl=e,this["calendar-"+e.id]=app.calendar.create(n.config)),n.hasOwnProperty("value")){for(var i,t=0;t<n.value.length;t++)i=new Date(n.value[t]),n.value[t]=new Date(i.getFullYear(),i.getMonth(),i.getDate());this.setValue(e,n.value)}},subscribe:function(e,n){$(e).on("change.f7DatePickerBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7DatePickerBinding")}}),Shiny.inputBindings.register(f7DatePickerBinding,"f7.datepicker");var f7FabsBinding=new Shiny.InputBinding;$.extend(f7FabsBinding,{find:function(e){return $(e).find(".fab")},getValue:function(e){return $(e).hasClass("fab-opened")},receiveMessage:function(e,n){app.fab.toggle("#"+$(e).attr("id"))},subscribe:function(e,n){$(e).on("fab:open.f7FabsBinding fab:close.f7FabsBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7FabsBinding")}}),Shiny.inputBindings.register(f7FabsBinding,"f7.fabs");var f7GaugeBinding=new Shiny.InputBinding;$.extend(f7GaugeBinding,{initialize:function(e){var n=$(e).attr("id"),i={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));i[n]=e.value}})),i.valueText=100*i.value+"%",i.el="#"+n;app.gauge.create(i)},find:function(e){return $(e).find(".gauge")},getValue:function(e){},receiveMessage:function(e,n){app.gauge.get($(e)).update({value:n.value/100,valueText:n.value+"%",labelText:n.text,size:n.size,bgColor:n.bgColor,borderBgColor:n.borderBgColor,borderColor:n.borderColor,borderWidth:n.borderWidth,valueTextColor:n.valueTextColor,valueFontSize:n.valueFontSize,valueFontWeight:n.valueFontWeight,labelTextColor:n.labelTextColor,labelFontSize:n.labelFontSize,labelFontWeight:n.labelFontWeight})}}),Shiny.inputBindings.register(f7GaugeBinding,"f7.gauge");var f7LoginBinding=new Shiny.InputBinding;$.extend(f7LoginBinding,{initialize:function(e){var n={};n.el="#"+$(e).attr("id"),n.animate=!1,n.on={opened:function(){$(e).trigger("shown")}};var i=app.loginScreen.create(n);JSON.parse($(e).attr("data-start-open"))[0]&&i.open()},find:function(e){return $(e).find(".login-screen")},getValue:function(e){return app.loginScreen.get($(e)).opened},receiveMessage:function(e,n){var i=app.loginScreen.get($(e));i.opened?n.user.length>0&&n.password.length>0?i.close():app.dialog.alert("Please enter a valid password and user."):i.open()},subscribe:function(e,n){$(e).on("loginscreen:opened.f7LoginBinding loginscreen:closed.f7LoginBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7LoginBinding")}}),Shiny.inputBindings.register(f7LoginBinding,"f7.login");var f7MessageBarBinding=new Shiny.InputBinding;$.extend(f7MessageBarBinding,{initialize:function(e){app.messagebar.create({el:"#"+$(e).attr("id")})},setState:function(e){var n=app.messagebar.get($(e)).getValue(),i=$(e).find("#"+e.id+"-send");return n.length?$(i).removeClass("disabled"):$(i).addClass("disabled"),n},find:function(e){return $(e).find(".messagebar")},getValue:function(e){return this.setState(e)},setValue:function(e,n){app.messagebar.get($(e)).setValue(n)},setPlaceholder:function(e,n){app.messagebar.get($(e)).setPlaceholder(n)},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("placeholder")&&this.setPlaceholder(e,n.placeholder)},subscribe:function(e,n){$(e).on("input.f7MessageBarBinding change.f7MessageBarBinding focus.f7MessageBarBinding blur.f7MessageBarBinding",(function(i){$(e).find("#"+e.id+"-send").on("click",(function(){setTimeout((function(){app.messagebar.get($(e)).clear().focus()}),1e3)})),n(!0)}))},getRatePolicy:function(){return{policy:"debounce",delay:250}},unsubscribe:function(e){$(e).off(".f7MessageBarBinding")}}),Shiny.inputBindings.register(f7MessageBarBinding,"f7.messagebar");var f7MessagesBinding=new Shiny.InputBinding;$.extend(f7MessagesBinding,{initialize:function(e){$(".page-content").addClass("messages-content");var n=$(e).attr("id"),i=$(e).find("script[data-for='"+n+"']");(i=JSON.parse(i.html())).el="#"+n,i.firstMessageRule=function(e,n,i){return!e.isTitle&&(!n||n.type!==e.type||n.name!==e.name)},i.lastMessageRule=function(e,n,i){return!e.isTitle&&(!i||i.type!==e.type||i.name!==e.name)},i.tailMessageRule=function(e,n,i){return!e.isTitle&&(!i||i.type!==e.type||i.name!==e.name)},app.messages.create(i)},find:function(e){return $(e).find(".messages")},getValue:function(e){return app.messages.get($(e)).messages},setValue:function(e,n){responseInProgress=!0;var i=app.messages.get($(e));if(n.showTyping){var t=n.value.pop().name;setTimeout((function(){i.showTyping({header:t+" is typing"}),setTimeout((function(){i.addMessages(n.value),i.hideTyping(),responseInProgress=!1}),1e3)}),500)}else i.addMessages(n.value)},receiveMessage:function(e,n){this.setValue(e,n),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.f7MessagesBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7MessagesBinding")}}),Shiny.inputBindings.register(f7MessagesBinding,"f7.messages");var f7PanelBinding=new Shiny.InputBinding;$.extend(f7PanelBinding,{initialize:function(e){var n={};n.el="#"+$(e).attr("id"),n.on={opened:function(){$(e).trigger("shown")}},app.panel.create(n)},find:function(e){return $(e).find(".panel")},getValue:function(e){return app.panel.get($(e)).opened},receiveMessage:function(e,n){var i=app.panel.get($(e));i.toggle(i.side)},subscribe:function(e,n){$(e).on("panel:open.f7PanelBinding panel:close.f7PanelBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PanelBinding")}}),Shiny.inputBindings.register(f7PanelBinding,"f7.panel");var f7PickerBinding=new Shiny.InputBinding;$.extend(f7PickerBinding,{initialize:function(e){var n=$(e)[0],i={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["openIn","toolbarCloseText","choices","value"].indexOf(n)){var t="true"==e.value;i[n]=t}else i[n]=e.value}})),i.inputEl=n,i.value=JSON.parse(i.value),i.cols=[{textAlign:"center",values:JSON.parse(i.choices)}];var t=app.picker.create(i);n.f7Picker=t},find:function(e){return $(e).find(".picker-input")},getValue:function(e){return app.picker.get($(e)).value},setValue:function(e,n){var i=app.picker.get($(e));i.value=n,i.displayValue=n,i.open(),setTimeout((function(){i.close()}),10)},receiveMessage:function(e,n){var i=app.picker.get($(e));n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("choices")&&(i.cols[0].values=n.choices),n.hasOwnProperty("rotateEffect")&&(i.params.rotateEffect=n.rotateEffect),n.hasOwnProperty("openIn")&&(i.params.openIn=n.openIn),n.hasOwnProperty("scrollToInput")&&(i.params.scrollToInput=n.scrollToInput),n.hasOwnProperty("closeByOutsideClick")&&(i.params.closeByOutsideClick=n.closeByOutsideClick),n.hasOwnProperty("toolbar")&&(i.params.toolbar=n.toolbar),n.hasOwnProperty("toolbarCloseText")&&(i.params.toolbarCloseText=n.toolbarCloseText),n.hasOwnProperty("sheetSwipeToClose")&&(i.params.sheetSwipeToClose=n.sheetSwipeToClose)},subscribe:function(e,n){$(e).on("change.f7PickerBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PickerBinding")}}),Shiny.inputBindings.register(f7PickerBinding,"f7.picker");var f7PopupBinding=new Shiny.InputBinding;$.extend(f7PopupBinding,{initialize:function(e){var n=$(e).find("script[data-for='"+e.id+"']");(n=JSON.parse(n.html())).el=e,n.on={opened:function(){$(e).trigger("shown")}};app.popup.create(n)},find:function(e){return $(e).find(".popup")},getValue:function(e){return app.popup.get($(e)).opened},receiveMessage:function(e,n){var i=app.popup.get($(e));i.opened?i.close():i.open()},subscribe:function(e,n){$(e).on("popup:opened.f7PopupBinding popup:closed.f7PopupBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PopupBinding")}}),Shiny.inputBindings.register(f7PopupBinding,"f7.popup");var f7SelectBinding=new Shiny.InputBinding;$.extend(f7SelectBinding,{find:function(e){return $(e).find(".input-select")},getValue:function(e){return $(e).val()},setValue:function(e,n){$(e).val(n)},receiveMessage:function(e,n){n.hasOwnProperty("selected")&&this.setValue(e,n.selected),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.f7SelectBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SelectBinding")}}),Shiny.inputBindings.register(f7SelectBinding,"f7.select");var f7SheetBinding=new Shiny.InputBinding;$.extend(f7SheetBinding,{initialize:function(e){var n=$(e).attr("id"),i={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()})),t="true"==e.value;i[n]=t}})),i.el="#"+n,i.on={opened:function(){$(e).trigger("shown")}};app.sheet.create(i)},find:function(e){return $(e).find(".sheet-modal")},getValue:function(e){return app.sheet.get($(e)).opened},receiveMessage:function(e,n){var i=app.sheet.get($(e));i.opened?i.close():i.open()},subscribe:function(e,n){$(e).on("sheet:open.f7SheetBinding sheet:close.f7SheetBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SheetBinding")}}),Shiny.inputBindings.register(f7SheetBinding,"f7.sheet");var f7SliderBinding=new Shiny.InputBinding;$.extend(f7SliderBinding,{initialize:function(e){var n=$(e).attr("id"),i={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["min","max","step","value","scaleSteps","scaleSubSteps","valueLeft","valueRight"].indexOf(n)){var t="true"==e.value;i[n]=t}else i[n]=parseFloat(e.value)}})),i.el="#"+n;app.range.create(i)},find:function(e){return $(e).find(".range-slider")},getValue:function(e){return app.range.get($(e)).value},setValue:function(e,n){app.range.setValue(e,n)},receiveMessage:function(e,n){var i=app.range.get($(e));if(n.hasOwnProperty("min")&&(i.min=n.min,i.updateScale()),n.hasOwnProperty("max")&&(i.max=n.max,i.updateScale()),n.hasOwnProperty("step")&&(i.step=n.step,i.updateScale()),n.hasOwnProperty("scaleSteps")&&(i.scaleSteps=n.scaleSteps,i.updateScale()),n.hasOwnProperty("scaleSubSteps")&&(i.scaleSubSteps=n.scaleSubSteps,i.updateScale()),n.hasOwnProperty("scale")&&(i.scale=n.scale),n.hasOwnProperty("value")){var t=n.value;$.isArray(t)?this.setValue(e,t):(i.dual=!1,i.updateScale(),this.setValue(e,t))}n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color))},subscribe:function(e,n){$(e).on("range:change.f7SliderBinding",(function(e){n(!0)}))},unsubscribe:function(e){$(e).off(".f7SliderBinding")},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(f7SliderBinding,"f7.range");var f7SmartSelectBinding=new Shiny.InputBinding;$.extend(f7SmartSelectBinding,{initialize:function(e){var n=$(e).children().eq(0).attr("id"),i=$(e).children().eq(2);(i=JSON.parse(i.html())).el="#"+n;var t=app.smartSelect.create(i);this["smart-select-"+e.id]=t},find:function(e){return $(e).find(".smart-select")},getValue:function(e){return this["smart-select-"+e.id].getValue()},setValue:function(e,n){this["smart-select-"+e.id].setValue(n)},receiveMessage:function(e,n){n.hasOwnProperty("config")&&(this["smart-select-"+e.id].destroy(),n.config.el="#"+$(e).children().eq(0).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config)),n.hasOwnProperty("selected")&&this.setValue(e,n.selected),n.hasOwnProperty("multiple")&&n.multiple&&(this["smart-select-"+e.id].destroy(),$(e).find("select").attr("multiple",""),n.config.el="#"+$(e).children().eq(0).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config)),n.hasOwnProperty("maxLength")&&(this["smart-select-"+e.id].destroy(),$(e).find("select").attr("maxLength",n.maxLength),n.config.el="#"+$(e).children().eq(0).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config))},subscribe:function(e,n){$(e).on("change.f7SmartSelectBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SmartSelectBinding")}}),Shiny.inputBindings.register(f7SmartSelectBinding,"f7.smartselect");var f7StepperBinding=new Shiny.InputBinding;$.extend(f7StepperBinding,{initialize:function(e){var n=$(e).attr("id"),i={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["min","max","step","value","decimalPoint"].indexOf(n)){var t="true"==e.value;i[n]=t}else i[n]=parseFloat(e.value)}})),i.el="#"+n;app.stepper.create(i);if(!i.manualInputMode){var t=$(e).find("input");$(t).attr("readonly","")}},find:function(e){return $(e).find(".stepper")},getValue:function(e){return app.stepper.get($(e)).value},setValue:function(e,n){app.stepper.setValue(e,n)},increment:function(){app.stepper.increment()},decrement:function(){app.stepper.decrement()},receiveMessage:function(e,n){var i=app.stepper.get($(e));if(n.hasOwnProperty("min")&&(i.min=n.min,i.params.min=n.min),n.hasOwnProperty("max")&&(i.max=n.max,i.params.max=n.max),n.hasOwnProperty("wraps")&&(i.params.wraps=n.wraps),n.hasOwnProperty("decimalPoint")&&(i.decimalPoint=n.decimalPoint,i.params.decimalPoint=n.decimalPoint),n.hasOwnProperty("manual")){i.params.manualInputMode=n.manual;var t=$(e).find("input");n.manual?void 0!==$(t).attr("readonly")&&$(t).removeAttr("readonly"):$(t).attr("readonly","")}n.hasOwnProperty("step")&&(i.step=n.step,i.params.step=n.step),n.hasOwnProperty("autorepeat")&&(i.params.autorepeat=n.autorepeat,i.params.autorepeatDynamic=n.autorepeat),n.hasOwnProperty("rounded")&&(n.rounded?$(e).addClass("stepper-round"):$(e).removeClass("stepper-round")),n.hasOwnProperty("raised")&&(n.raised?$(e).addClass("stepper-raised"):$(e).removeClass("stepper-raised")),n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color)),n.hasOwnProperty("size")&&($(e).hasClass("stepper-small")||$(e).hasClass("stepper-large")?$(e).hasClass("stepper-small")&&"large"==n.size?($(e).removeClass("stepper-small"),$(e).addClass("stepper-large")):$(e).hasClass("stepper-large")&&"small"==n.size&&($(e).addClass("stepper-small"),$(e).removeClass("stepper-large")):"small"==n.size?$(e).addClass("stepper-small"):"large"==n.size&&$(e).addClass("stepper-large")),n.hasOwnProperty("value")&&(this.setValue(e,n.value),i.params.value=n.value)},subscribe:function(e,n){$(e).on("stepper:change.f7StepperBinding",(function(i){app.stepper.get($(e)).params.autorepeat?n(!0):n()}))},unsubscribe:function(e){$(e).off(".f7StepperBinding")},getRatePolicy:function(){return{policy:"debounce",delay:500}}}),Shiny.inputBindings.register(f7StepperBinding,"f7.stepper");var f7TabsBinding=new Shiny.InputBinding;$.extend(f7TabsBinding,{find:function(e){return $(e).find(".tabs")},getValue:function(e){var n;return n=$(e).hasClass("standalone")?$(e).find(".tab-active"):$(e).find(".page-content.tab-active"),$(n).data("hidden")?$(".tab-link-highlight").hide():$(".tab-link-highlight").show(),$(n).attr("data-value")},receiveMessage:function(e,n){n.hasOwnProperty("selected")&&app.tab.show("#"+n.ns+"-"+n.selected)},subscribe:function(e,n){$(e).on("tab:show.f7TabsBinding",(function(i){$(e).trigger("shown"),n()}))},unsubscribe:function(e){$(e).off(".f7TabsBinding")}}),Shiny.inputBindings.register(f7TabsBinding,"f7.tabs");var f7ToggleBinding=new Shiny.InputBinding;$.extend(f7ToggleBinding,{initialize:function(e){app.toggle.create({el:e})},find:function(e){return $(e).find(".toggle")},getValue:function(e){return app.toggle.get($(e)).checked},setValue:function(e,n){app.toggle.get($(e)).checked=n},receiveMessage:function(e,n){n.hasOwnProperty("checked")&&this.setValue(e,n.checked),n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color))},subscribe:function(e,n){$(e).on("toggle:change.f7ToggleBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7ToggleBinding")}}),Shiny.inputBindings.register(f7ToggleBinding,"f7.toggle");var f7VirtualListBinding=new Shiny.InputBinding;$.extend(f7VirtualListBinding,{decodeHTML:function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.value},initialize:function(e){var n,i=$(e).attr("id"),t=$(e).find("script[data-for='"+i+"']");for(var a of((t=JSON.parse(t.html())).el="#"+i,t.items))a.media.length>0&&(a.media='<div class="item-media">'+this.decodeHTML(a.media)+"</div>");n=void 0===t.items[0].url?'<li><div class="item-content">{{media}}<div class="item-inner"><div class="item-title-row"><div class="item-title"><div class="item-header">{{header}}</div>{{title}}<div class="item-footer">{{footer}}</div></div><div class="item-after">{{right}}</div></div><div class="item-subtitle">{{subtitle}}</div><div class="item-text">{{content}}</div></div></div></li>':'<li><a class="item-link item-content external" href="url" target="_blank">{{media}}<div class="item-inner"><div class="item-title-row"><div class="item-title"><div class="item-header">{{header}}</div>{{title}}<div class="item-footer">{{footer}}</div></div><div class="item-after">{{right}}</div></div><div class="item-subtitle">{{subtitle}}</div><div class="item-text">{{content}}</div></div></a></li>',t.itemTemplate=n,t.searchAll=function(e,n){for(var i=[],t=0;t<n.length;t++)(n[t].title.toLowerCase().indexOf(e.toLowerCase())>=0||""===e.trim())&&i.push(t);return i},t.height=void 0!==t.items[0].media?"ios"===app.theme?112:"md"===app.theme?132:78:"ios"===app.theme?63:"md"===app.theme?73:46,app.virtualList.create(t)},find:function(e){return $(e).find(".virtual-list")},getValue:function(e){var n=app.virtualList.get($(e));return{length:n.items.length,current_from:n.currentFromIndex+1,current_to:n.currentToIndex+1,reach_end:n.reachEnd}},setValue:function(e,n){var i=app.virtualList.get($(e));i.resetFilter();var t=function(e){var n;if(void 0===e.length)n=`<div class="item-media">${e.media}</div>`,e.media=n;else for(var i=0;i<e.length;i++)n=`<div class="item-media">${e[i].media}</div>`,e[i].media=n;return e};switch(n.action){case"appendItem":i.appendItem(t(n.item));break;case"prependItem":i.prependItem(t(n.item));break;case"appendItems":i.appendItems(t(n.items));break;case"prependItems":i.prependItems(t(n.items));break;case"replaceItem":i.replaceItem(n.index,n.item);break;case"replaceAllItems":i.replaceAllItems(n.items);break;case"moveItem":i.moveItem(n.oldIndex,n.newIndex);break;case"insertItemBefore":i.insertItemBefore(n.index,t(n.item));break;case"filterItems":i.filterItems(n.indexes);break;case"deleteItem":i.deleteItem(n.index);break;case"deleteAllItems":i.deleteAllItems(n.indexes);break;case"scrollToItem":i.scrollToItem(n.index)}$(e).trigger("change")},receiveMessage:function(e,n){this.setValue(e,n)},subscribe:function(e,n){$(e).on("change.f7VirtualListBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7VirtualListBinding")}}),Shiny.inputBindings.register(f7VirtualListBinding,"f7.virtuallist");
