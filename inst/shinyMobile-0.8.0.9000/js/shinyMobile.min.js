$((function(){var e=$(document).find("script[data-for='app']");e=JSON.parse(e.html());var n="true"===$("body").attr("data-pwa");if(e.root="#app",n&&(e.serviceWorker={path:window.location.pathname+"service-worker.js",scope:window.location.pathname}),e.methods={toggleDarkTheme:function(){this.$("html").toggleClass("theme-dark")}},e.data=function(){return{popovers:[],tooltips:[],actions:[]}},app=new Framework7(e),mainView=app.views.create(".view-main"),e.hasOwnProperty("dark")||(e.dark=!1),e.dark&&app.methods.toggleDarkTheme(),e.hasOwnProperty("touch")&&e.touch.tapHold&&$("<style>").prop("type","text/css").html("\n          -moz-user-select: none;\n          -webkit-user-select: none;\n          user-select: none;").appendTo("head"),e.hasOwnProperty("color")){var t=app.utils.colorThemeCSSProperties(e.color);$("<style>").prop("type","text/css").html(`:root {\n        --f7-theme-color: ${t["--f7-theme-color"]};\n        --f7-theme-color-rgb: ${t["--f7-theme-color-rgb"]};\n        --f7-theme-color-shade: ${t["--f7-theme-color-shade"]};\n        --f7-theme-color-tint: ${t["--f7-theme-color-tint"]};\n      }`).appendTo("head")}if(e.hasOwnProperty("filled")||(e.filled=!1),e.filled){$("<style>").prop("type","text/css").html("\n    :root,\n    :root.theme-dark,\n    :root .theme-dark {\n      --f7-bars-bg-color: var(--f7-theme-color);\n      --f7-bars-bg-color-rgb: var(--f7-theme-color-rgb);\n      --f7-bars-translucent-opacity: 0.9;\n      --f7-bars-text-color: #fff;\n      --f7-bars-link-color: #fff;\n      --f7-navbar-subtitle-text-color: rgba(255,255,255,0.85);\n      --f7-bars-border-color: transparent;\n      --f7-tabbar-link-active-color: #fff;\n      --f7-tabbar-link-inactive-color: rgba(255,255,255,0.54);\n      --f7-sheet-border-color: transparent;\n      --f7-tabbar-link-active-border-color: #fff;\n    }\n    .appbar,\n    .navbar,\n    .toolbar,\n    .subnavbar,\n    .calendar-header,\n    .calendar-footer {\n      --f7-touch-ripple-color: var(--f7-touch-ripple-white);\n      --f7-link-highlight-color: var(--f7-link-highlight-white);\n      --f7-button-text-color: #fff;\n      --f7-button-pressed-bg-color: rgba(255,255,255,0.1);\n    }\n    .navbar-large-transparent,\n    .navbar-large.navbar-transparent {\n      --f7-navbar-large-title-text-color: #000;\n\n      --r: 0;\n      --g: 122;\n      --b: 255;\n      --progress: var(--f7-navbar-large-collapse-progress);\n      --f7-bars-link-color: rgb(\n        calc(var(--r) + (255 - var(--r)) * var(--progress)),\n        calc(var(--g) + (255 - var(--g)) * var(--progress)),\n        calc(var(--b) + (255 - var(--b)) * var(--progress))\n      );\n    }\n    .theme-dark .navbar-large-transparent,\n    .theme-dark .navbar-large.navbar-transparent {\n      --f7-navbar-large-title-text-color: #fff;\n  }").appendTo("head")}$("body").addClass(e.color),$("body").attr("filled",e.filled)})),$((function(){if($(document).on("shiny:disconnected",(function(e){$("#ss-connect-dialog").hide(),$("#ss-overlay").hide();var n=app.toast.create({icon:'<i class="icon f7-icons">bolt_fill</i>',position:"center",text:'Oups... disconnected </br> </br> <div class="row"><button onclick="Shiny.shinyapp.reconnect();" class="toast-button button color-green col">Reconnect</button><button onclick="location.reload();" class="toast-button button color-red col">Reload</button></div>'}).open();$(".toast-button").on("click",(function(){n.close()}))})),$(document).on("shiny:sessioninitialized",(function(e){Shiny.setInputValue("shinyInfo",Shiny.shinyapp.config)})),$(document).on("shiny:inputchanged",(function(e){Shiny.setInputValue("lastInputChanged",{name:e.name,value:e.value,type:e.binding.name.split(".")[1]})})),$(document).on("shiny:connected",(function(e){Shiny.setInputValue("deviceInfo",Framework7.device)})),Framework7.device.standalone&&($("html, body").css({height:"100vh",width:"100vw"}),$(".appbar").length>0&&$(".toolbar").css("margin-bottom","20px")),$(".tabs-standalone").css("height","auto"),app.params.filled&&app.params.dark&&"#ffffff"!==$("body").attr("class")&&$(".demo-send-message-link").find("i").addClass("color-white"),app.params.dark){$(".page-content").css("background-color",""),$(".page-content.tab, .tab").css("background-color",""),$(".demo-facebook-card .card-footer").css("background-color","#1c1c1d"),$(".sheet-modal, .swipe-handler").css("background-color","#1b1b1d"),$(".popup").css("background-color","#1b1b1d"),$(".fab-label").css("background-color","var(--f7-fab-label-text-color)"),$(".fab-label").css("color","var(--f7-fab-text-color)"),$(".accordion-item .item-content .item-inner").css("color","white"),$(".accordion-item .accordion-item-content").css("color","white");var sidebarPanel=$("#f7-sidebar-view").find(".page-content");$(sidebarPanel).css("background-color","#1e1e1e");var sidebarItems=$("#f7-sidebar-view").find("li");$(sidebarItems).css("background-color","#171717")}else $("div.messages").css("background-color","gainsboro"),$("a").on("click",(function(){setTimeout((function(){var e=$("body").attr("class");$(".navbar-photo-browser .navbar-inner .title").css("color","black"),$(".navbar-photo-browser .navbar-inner .right .popup-close").css("color",e),$(".photo-browser-page .toolbar .toolbar-inner a").css("color",e)}),100)}));var subnavbar=$(".subnavbar");1==subnavbar.length&&$(".page").addClass("page-with-subnavbar"),Shiny.addCustomMessageHandler("update-app",(function(e){app.utils.extend(app.params,e)})),Shiny.addCustomMessageHandler("update-entity",(function(e){var n;for(const t in app.data)for(const a in app.data[t])a===e.id&&(n=t);var t=app.data[n][e.id],a=t.params,i=app.utils.extend(a,e.options);t.destroy();var r=app[n].create(i);app.data[n][e.id]=r})),Shiny.addCustomMessageHandler("notif",(function(e){app.notification.create(e).open()})),popoverIds=[],getAllPopoverIds=function(){$("[data-popover]").each((function(){popoverIds.push($(this).attr("data-popover"))}))},getAllPopoverIds(),popoverIds.forEach((function(e){Shiny.addCustomMessageHandler(e,(function(n){var t=app.popover.create({targetEl:'[data-popover = "'+e+'"]',content:'<div class="popover"><div class="popover-inner"><div class="block">'+n.content+"</div></div></div>"});$('[data-popover = "'+e+'"]').on("click",(function(){t.open()}))}))})),Shiny.addCustomMessageHandler("add_popover",(function(e){if(void 0===app.data.popovers[e.targetEl]){if(!$(e.targetEl).hasClass("popover-disabled")){e.content=`\n        <div class="popover">\n          <div class="popover-angle"></div>\n          <div class="popover-inner">\n            <div class="block">${e.content}</div>\n          </div>\n        </div>\n        `;var n=app.popover.create(e);n.open(),app.data.popovers[e.targetEl]=n}}else $(e.targetEl).hasClass("popover-disabled")||app.data.popovers[e.targetEl].open()})),Shiny.addCustomMessageHandler("toggle_popover",(function(e){$(e).toggleClass("popover-disabled")})),Shiny.addCustomMessageHandler("add_tooltip",(function(e){if(void 0===app.data.tooltips[e.targetEl]){var n=app.tooltip.create(e);n.show(),app.data.tooltips[e.targetEl]=n}})),Shiny.addCustomMessageHandler("update_tooltip",(function(e){if(void 0!==app.data.tooltips[e.targetEl]){var n=app.tooltip.get(e.targetEl);if("update"===e.action)n&&n.setText(e.text);else if("toggle"===e.action)if(n){var t=Object.assign({},n);app.data.tooltips[e.targetEl]=t,n.destroy()}else{var a=app.data.tooltips[e.targetEl].params;n=app.tooltip.create(a),app.data.tooltips[e.targetEl]=n}}})),Shiny.addCustomMessageHandler("toast",(function(e){app.toast.create(e).open()})),Shiny.addCustomMessageHandler("dialog",(function(e){switch(e.type){case"alert":app.dialog.alert(e.text,e.title);break;case"confirm":app.dialog.confirm(text=e.text,title=e.title,callbackOk=function(){Shiny.setInputValue(e.id,!0)},callbackCancel=function(){Shiny.setInputValue(e.id,!1)}).open(Shiny.setInputValue(e.id,null));break;case"prompt":app.dialog.prompt(text=e.text,title=e.title,callbackOk=function(n){Shiny.setInputValue(e.id,n)},callbackCancel=function(){Shiny.setInputValue(e.id,null)}).open(Shiny.setInputValue(e.id,null));break;case"login":console.log(n);var n=app.dialog.login(text=e.text,title=e.title,callbackOk=function(n,t){Shiny.setInputValue(e.id,{user:n,password:t})},callbackCancel=function(){Shiny.setInputValue(e.id,null)}).open(Shiny.setInputValue(e.id,null));break;default:console.log("")}})),Shiny.addCustomMessageHandler("tapHold",(function(message){var selector=String(message.target);$(selector).on("taphold",(function(){eval(message.callback)}))}));var tabIds=[];if(getAllTabSetIds=function(){$(".tabs.ios-edges").each((function(){tabIds.push(this.id)}))},getAllTabSetIds(),tabIds.forEach((function(e){var n="insert_"+e;Shiny.addCustomMessageHandler(n,(function(e){var n,t=$("#"+e.ns+"-"+e.target);if($(t).hasClass("swiper-slide")?(n=$(e.value).addClass("swiper-slide"),$(".tabLinks").children(1).hasClass("segmented")&&$(n).removeClass("page-content"),"true"===e.select&&$(n).addClass("swiper-slide-active"),dark_mode&&$(n).css("background-color","")):(n=$(e.value),dark_mode&&$(n).css("background-color","")),"after"===e.position?($(n).insertAfter($(t)),$(e.link).insertAfter($('.tabLinks [data-tab ="#'+e.ns+"-"+e.target+'"]'))):"before"===e.position&&($(n).insertBefore($(t)),$(e.link).insertBefore($('.tabLinks [data-tab ="#'+e.ns+"-"+e.target+'"]'))),$(".tabLinks").children(1).hasClass("segmented")){var a=$('.tabLinks [data-tab ="#'+e.id+'"]');$(a).replaceWith('<button class="button tab-link" data-tab="#'+e.id+'">'+$(a).html()+"</button>")}$(t).hasClass("swiper-slide")&&document.querySelector(".swiper-container").swiper.update();"true"===e.select&&app.tab.show("#"+e.id,!0)}))})),tabIds.forEach((function(e){var n="remove_"+e;Shiny.addCustomMessageHandler(n,(function(e){var n=$("#"+e.ns+"-"+e.target);if($(".tabs.ios-edges").css("transform",""),$(".tabLinks").children(1).hasClass("segmented")){var t=$('.tabLinks button[data-tab="#'+e.ns+"-"+e.target+'"]'),a=$(".tabLinks button").not('[data-tab="#'+e.ns+"-"+e.target+'"]');0===$(t).next().length?$(a).hasClass("tab-link-active")||$(t).prev().addClass("tab-link-active"):$(a).hasClass("tab-link-active")||$(t).next().addClass("tab-link-active"),$(t).remove()}else $('.toolbar-inner a[data-tab="#'+e.ns+"-"+e.target+'"]').remove();($("#"+e.ns+"-"+e.target).remove(),$(n).hasClass("swiper-slide"))&&document.querySelector(".swiper-container").swiper.update();var i=$(n).next().attr("id");app.tab.show("#"+i),$(".tabLinks").children(1).hasClass("segmented")||($(".tab-link-highlight").remove(),segment_width=100/$(".toolbar-inner > a").length,$(".toolbar-inner").append('<span class="tab-link-highlight" style="width: '+segment_width+'%;"></span>'))}))})),activateAllProgress=function(){$(".progressbar").each((function(){var e="#"+$(this).attr("id"),n=parseInt($(this).attr("data-progress"));app.progressbar.show(e,n)}))},activateAllProgress(),Shiny.addCustomMessageHandler("update-progress",(function(e){app.progressbar.set("#"+e.id,e.progress)})),activateAllSwiper=function(){$(".swiper-container.demo-swiper").each((function(){var e=$(this),n=$(document).find("script[data-for='"+e.attr("id")+"']");n=JSON.parse(n.html()),app.swiper.create("#"+e.attr("id"),{speed:n.speed,spaceBetween:n.spaceBetween,slidesPerView:n.slidesPerView,centeredSlides:n.centeredSlides,pagination:n.pagination})}))},activateAllSwiper(),Shiny.addCustomMessageHandler("open-photo-browser",(function(e){app.photoBrowser.create(e).open()})),activateAllSearchbar=function(){$(".searchbar").each((function(){var e=$(this);app.searchbar.create({el:"#"+e.attr("id"),searchContainer:".list",searchIn:".item-title",backdrop:!1,on:{search(e,n,t){console.log(n,t)}}})}))},activateAllSearchbar(),Shiny.addCustomMessageHandler("show_navbar",(function(e){e.animate,app.navbar.show(".navbar",e.animate)})),Shiny.addCustomMessageHandler("hide_navbar",(function(e){var n,t;n="true"==e.animate,t="true"==e.hideStatusbar,app.navbar.hide(".navbar",n=n,t=t)})),Shiny.addCustomMessageHandler("toggle_navbar",(function(e){$navbar=$(".navbar"),$navbar.hasClass("navbar-hidden")?app.navbar.show(".navbar",animate=e.animate):app.navbar.hide(".navbar",animate=e.animate,hideStatusbar=e.hideStatusbar)})),Shiny.addCustomMessageHandler("action-sheet",(function(e){if(void 0===app.data.actions[e.id]){var n=e.id+"_button";e.buttons.forEach((function(e,t){Object.defineProperty(e,"onClick",{value:function(){!function(e){Shiny.setInputValue(n,e)}(t+1)},writable:!1})})),e.on={opened:function(){Shiny.setInputValue(e.id,!0)},closed:function(){Shiny.setInputValue(e.id,!1),Shiny.setInputValue(n,null)}};var t=app.actions.create(e);t.open(),app.data.actions[e.id]=t}else app.data.actions[e.id].open()})),Shiny.addCustomMessageHandler("update-action-sheet",(function(e){app.data.actions[e.id].destroy();var n=app.actions.create(e);app.data.actions[e.id]=n})),"true"===$("body").attr("data-ptr")){const e=$('<div class="ptr-preloader"><div class="preloader"></div><div class="ptr-arrow"></div></div>');$(".page-content").addClass("ptr-content").prepend(e).attr("data-ptr-distance","55").attr("data-ptr-mousewheel","true"),app.ptr.create(".ptr-content");var ptr=app.ptr.get(".ptr-content");ptr.on("refresh",(function(e){Shiny.setInputValue("ptr",!0),setTimeout((function(){app.ptr.done()}),2e3)})),ptr.on("done",(function(e){Shiny.setInputValue("ptr",null)}))}Shiny.addCustomMessageHandler("validate-input",(function(e){var n;$("#"+e.target).attr("required","").attr("validate","").attr("pattern",e.pattern).attr("data-error-message",e.error),$("#"+e.target).closest(".item-content.item-input").addClass("item-input-with-info"),void 0!==e.info&&(n='<div class = "item-input-info">'+e.info+"</div>"),$("#"+e.target).parent().append(n)})),Shiny.addCustomMessageHandler("show-preloader",(function(e){void 0!==e.el?app.preloader.showIn(e.el,e.color):app.preloader.show(e.color)})),Shiny.addCustomMessageHandler("hide-preloader",(function(e){void 0!==e.el?app.preloader.hideIn(e.el):app.preloader.hide()}))}));var f7ActionSheetBinding=new Shiny.InputBinding;$.extend(f7ActionSheetBinding,{find:function(e){},getValue:function(e){},receiveMessage:function(e,n){},subscribe:function(e,n){},unsubscribe:function(e){}}),Shiny.inputBindings.register(f7ActionSheetBinding);var f7AutoCompleteBinding=new Shiny.InputBinding;$.extend(f7AutoCompleteBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["openIn","choices","value","dropdownPlaceholderText"].indexOf(n)){var a="true"==e.value;t[n]=a}else t[n]=e.value}}));var a=JSON.parse(t.choices);t.value=JSON.parse(t.value),"dropdown"==t.openIn?t.inputEl="#"+n:t.openerEl="#"+n,t.on={change:function(e){$("#"+n).find(".item-after").text(e[0]),$("#"+n).find("input").val(e[0]),$("#"+n).trigger("change")}},t.source=function(e,n){var t=[];if(0!==e.length){for(var i=0;i<a.length;i++)a[i].toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(a[i]);n(t)}else n(t)},app.autocomplete.create(t)},find:function(e){return $(e).find(".autocomplete-input")},getValue:function(e){return app.autocomplete.get($(e)).value},setValue:function(e,n){var t=app.autocomplete.get($(e));t.value=n,t.$inputEl[0].value=n,$(e).trigger("change")},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value)},subscribe:function(e,n){$(e).on("change.f7AutoCompleteBinding",(function(e){setTimeout((function(){n()}),10)}))},unsubscribe:function(e){$(e).off(".f7AutoCompleteBinding")}}),Shiny.inputBindings.register(f7AutoCompleteBinding,"f7.autocomplete");var f7ButtonInputBinding=new Shiny.InputBinding;$.extend(f7ButtonInputBinding,{find:function(e){return $(e).find(".f7-action-button")},getValue:function(e){return $(e).data("val")||0},setValue:function(e,n){$(e).data("val",n)},getType:function(e){return"shiny.action"},subscribe:function(e,n){$(e).on("click.f7ButtonInputBinding",(function(e){var t=$(this),a=t.data("val")||0;t.data("val",a+1),n()}))},getState:function(e){return{value:this.getValue(e)}},receiveMessage:function(e,n){var t=$(e);if(n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color)),n.hasOwnProperty("fill")){var a=$(e).hasClass("button-fill");n.fill?a||$(e).addClass("button-fill"):a&&$(e).removeClass("button-fill")}if(n.hasOwnProperty("outline")){var i=$(e).hasClass("button-outline");n.outline?i||$(e).addClass("button-outline"):i&&$(e).removeClass("button-outline")}if(n.hasOwnProperty("shadow")){var r=$(e).hasClass("button-raised");n.shadow?r||$(e).addClass("button-raised"):r&&$(e).removeClass("button-raised")}if(n.hasOwnProperty("rounded")){var s=$(e).hasClass("button-round");n.rounded?s||$(e).addClass("button-round"):s&&$(e).removeClass("button-round")}if(n.hasOwnProperty("size")){var o=$(e).hasClass("button-large"),l=$(e).hasClass("button-small");!o&!l&&$(e).addClass("button-"+n.size),!o&l&&($(e).removeClass("button-small"),$(e).addClass("button-"+n.size)),o&!l&&($(e).removeClass("button-large"),$(e).addClass("button-"+n.size))}var c=t.text();n.hasOwnProperty("label")&&(c=n.label),t.html(c)},unsubscribe:function(e){$(e).off(".f7ButtonInputBinding")}}),Shiny.inputBindings.register(f7ButtonInputBinding,"f7.button"),$(document).on("click","a.f7-action-button",(function(e){e.preventDefault()}));var f7CardBinding=new Shiny.InputBinding;$.extend(f7CardBinding,{find:function(e){return $(e).find(".card-expandable")},getValue:function(e){return $(e).hasClass("card-opened")},receiveMessage:function(e,n){app.card.toggle($(e))},subscribe:function(e,n){$(e).on("card:opened.f7CardBinding card:closed.f7CardBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7CardBinding")}}),Shiny.inputBindings.register(f7CardBinding,"f7.card");var f7CollapsibleBinding=new Shiny.InputBinding;$.extend(f7CollapsibleBinding,{find:function(e){return $(e).find(".collapsible")},getValue:function(e){var n=$($(e)[0]).attr("id"),t=$("#"+n+" li.accordion-item-opened");if(t.length>0){if(1===t.length)return{state:!0,value:$(t[0]).find(".item-title").html()};var a=[];return $(t).each((function(e){a.push($(t[e]).find(".item-title").html())})),{state:!0,value:a}}return{state:!1,value:null}},receiveMessage:function(e,n){if(n.hasOwnProperty("selected")){var t=$($(e)[0]).attr("id"),a=$("#"+t+" .accordion-item"),i=n.selected-1,r=$(a[i]);app.accordion.toggle(r)}},subscribe:function(e,n){$(e).on("accordion:opened.f7CollapsibleBinding accordion:closed.f7CollapsibleBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7CollapsibleBinding")}}),Shiny.inputBindings.register(f7CollapsibleBinding,"f7.collapsible");var f7ColorPickerBinding=new Shiny.InputBinding;$.extend(f7ColorPickerBinding,{initialize:function(e){app.colorPicker.create({inputEl:e,targetEl:$(e).attr("id")+"-value",targetElSetBackgroundColor:!0,modules:colorPickerModules,openIn:"auto",sliderValue:colorPickerSliderValue,sliderValueEditable:colorPickerSliderValueEditable,sliderLabel:colorPickerSliderLabel,hexLabel:colorPickerHexLabel,hexValueEditable:colorPickerHexValueEditable,groupedModules:colorPickerGroupedModules,palette:colorPickerPalettes,value:{hex:colorPickerValue}})},find:function(e){return $(e).find(".color-picker-input")},getValue:function(e){var n=$(e).attr("id");return document.getElementById(n).value},setValue:function(e,n){},receiveMessage:function(e,n){},subscribe:function(e,n){$(e).on("change.f7ColorPickerBinding ",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7ColorPickerBinding ")}}),Shiny.inputBindings.register(f7ColorPickerBinding,"f7.colorpicker");var f7DateBinding=new Shiny.InputBinding;$.extend(f7DateBinding,{find:function(e){return $(e).find(".date-input")},getValue:function(e){return console.log($(e).attr("value")),$(e).attr("value")},setValue:function(e,n){},receiveMessage:function(e,n){},subscribe:function(e,n){$(e).on("keyup.dateInputBinding input.dateInputBinding",(function(e){n(!0)})),$(e).on("change.f7DateBinding",(function(e){n(!1)}))},getRatePolicy:function(){return{policy:"debounce",delay:250}},unsubscribe:function(e){$(e).off(".f7DateBinding")}}),Shiny.inputBindings.register(f7DateBinding,"f7.date");var f7DatePickerBinding=new Shiny.InputBinding;$.extend(f7DatePickerBinding,{initialize:function(e){var n=$(e)[0],t=$(e).parent().find("script[data-for='"+e.id+"']");if((t=JSON.parse(t.html())).hasOwnProperty("value"))for(var a=0;a<t.value.length;a++)t.value[a]=new Date(t.value[a]);else t.value=[new Date];t.inputEl=n;var i=app.calendar.create(t);this["calendar-"+e.id]=i},find:function(e){return $(e).find(".calendar-input")},getType:function(e){return"f7DatePicker.date"},getValue:function(e){return this["calendar-"+e.id].getValue()},setValue:function(e,n){this["calendar-"+e.id].setValue(n)},receiveMessage:function(e,n){if(n.hasOwnProperty("config")&&(this["calendar-"+e.id].destroy(),n.config.inputEl=e,this["calendar-"+e.id]=app.calendar.create(n.config)),n.hasOwnProperty("value")){for(var t,a=0;a<n.value.length;a++)t=new Date(n.value[a]),n.value[a]=new Date(t.getFullYear(),t.getMonth(),t.getDate());this.setValue(e,n.value)}},subscribe:function(e,n){$(e).on("change.f7DatePickerBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7DatePickerBinding")}}),Shiny.inputBindings.register(f7DatePickerBinding,"f7.datepicker");var f7FabsBinding=new Shiny.InputBinding;$.extend(f7FabsBinding,{find:function(e){return $(e).find(".fab")},getValue:function(e){return $(e).hasClass("fab-opened")},receiveMessage:function(e,n){app.fab.toggle("#"+$(e).attr("id"))},subscribe:function(e,n){$(e).on("fab:open.f7FabsBinding fab:close.f7FabsBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7FabsBinding")}}),Shiny.inputBindings.register(f7FabsBinding,"f7.fabs");var f7GaugeBinding=new Shiny.InputBinding;$.extend(f7GaugeBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));t[n]=e.value}})),t.valueText=100*t.value+"%",t.el="#"+n;app.gauge.create(t)},find:function(e){return $(e).find(".gauge")},getValue:function(e){},receiveMessage:function(e,n){app.gauge.get($(e)).update({value:n.value/100,valueText:n.value+"%",labelText:n.text,size:n.size,bgColor:n.bgColor,borderBgColor:n.borderBgColor,borderColor:n.borderColor,borderWidth:n.borderWidth,valueTextColor:n.valueTextColor,valueFontSize:n.valueFontSize,valueFontWeight:n.valueFontWeight,labelTextColor:n.labelTextColor,labelFontSize:n.labelFontSize,labelFontWeight:n.labelFontWeight})}}),Shiny.inputBindings.register(f7GaugeBinding,"f7.gauge");var f7LoginBinding=new Shiny.InputBinding;$.extend(f7LoginBinding,{initialize:function(e){var n={};n.el="#"+$(e).attr("id"),n.animate=!1,n.on={opened:function(){$(e).trigger("shown")}};var t=app.loginScreen.create(n);JSON.parse($(e).attr("data-start-open"))[0]&&t.open()},find:function(e){return $(e).find(".login-screen")},getValue:function(e){return app.loginScreen.get($(e)).opened},receiveMessage:function(e,n){var t=app.loginScreen.get($(e));t.opened?n.user.length>0&&n.password.length>0?t.close():app.dialog.alert("Please enter a valid password and user."):t.open()},subscribe:function(e,n){$(e).on("loginscreen:opened.f7LoginBinding loginscreen:closed.f7LoginBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7LoginBinding")}}),Shiny.inputBindings.register(f7LoginBinding,"f7.login");var f7MenuBinding=new Shiny.InputBinding;$.extend(f7MenuBinding,{find:function(e){return $(e).find(".menu-item-dropdown")},getValue:function(e){return $(e).hasClass("menu-item-dropdown-opened")},receiveMessage:function(e,n){$(e).hasClass("menu-item-dropdown-opened")||app.menu.open($(e))},subscribe:function(e,n){$(e).on("menu:opened.f7MenuBinding menu:closed.f7MenuBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7MenuBinding")}}),Shiny.inputBindings.register(f7MenuBinding,"f7.menu");var f7MessageBarBinding=new Shiny.InputBinding;$.extend(f7MessageBarBinding,{initialize:function(e){app.messagebar.create({el:"#"+$(e).attr("id")})},setState:function(e){var n=app.messagebar.get($(e)).getValue(),t=$(e).find("#"+e.id+"-send");return n.length?$(t).removeClass("disabled"):$(t).addClass("disabled"),n},find:function(e){return $(e).find(".messagebar")},getValue:function(e){return this.setState(e)},setValue:function(e,n){app.messagebar.get($(e)).setValue(n)},setPlaceholder:function(e,n){app.messagebar.get($(e)).setPlaceholder(n)},receiveMessage:function(e,n){n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("placeholder")&&this.setPlaceholder(e,n.placeholder)},subscribe:function(e,n){$(e).on("input.f7MessageBarBinding change.f7MessageBarBinding focus.f7MessageBarBinding blur.f7MessageBarBinding",(function(t){$(e).find("#"+e.id+"-send").on("click",(function(){setTimeout((function(){app.messagebar.get($(e)).clear().focus()}),1e3)})),n(!0)}))},getRatePolicy:function(){return{policy:"debounce",delay:250}},unsubscribe:function(e){$(e).off(".f7MessageBarBinding")}}),Shiny.inputBindings.register(f7MessageBarBinding,"f7.messagebar");var f7MessagesBinding=new Shiny.InputBinding;$.extend(f7MessagesBinding,{initialize:function(e){$(".page-content").addClass("messages-content");var n=$(e).attr("id"),t=$(e).find("script[data-for='"+n+"']");(t=JSON.parse(t.html())).el="#"+n,t.firstMessageRule=function(e,n,t){return!e.isTitle&&(!n||n.type!==e.type||n.name!==e.name)},t.lastMessageRule=function(e,n,t){return!e.isTitle&&(!t||t.type!==e.type||t.name!==e.name)},t.tailMessageRule=function(e,n,t){return!e.isTitle&&(!t||t.type!==e.type||t.name!==e.name)},app.messages.create(t)},find:function(e){return $(e).find(".messages")},getValue:function(e){return app.messages.get($(e)).messages},setValue:function(e,n){responseInProgress=!0;var t=app.messages.get($(e));if(n.showTyping){var a=n.value.pop().name;setTimeout((function(){t.showTyping({header:a+" is typing"}),setTimeout((function(){t.addMessages(n.value),t.hideTyping(),responseInProgress=!1}),1e3)}),500)}else t.addMessages(n.value)},receiveMessage:function(e,n){this.setValue(e,n),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.f7MessagesBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7MessagesBinding")}}),Shiny.inputBindings.register(f7MessagesBinding,"f7.messages");var f7PanelBinding=new Shiny.InputBinding;$.extend(f7PanelBinding,{initialize:function(e){var n={};n.el="#"+$(e).attr("id"),n.on={opened:function(){$(e).trigger("shown")}},app.panel.create(n)},find:function(e){return $(e).find(".panel")},getValue:function(e){return app.panel.get($(e)).opened},receiveMessage:function(e,n){var t=app.panel.get($(e));t.toggle(t.side)},subscribe:function(e,n){$(e).on("panel:open.f7PanelBinding panel:close.f7PanelBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PanelBinding")}}),Shiny.inputBindings.register(f7PanelBinding,"f7.panel");var f7PickerBinding=new Shiny.InputBinding;$.extend(f7PickerBinding,{initialize:function(e){var n=$(e)[0],t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["openIn","toolbarCloseText","choices","value"].indexOf(n)){var a="true"==e.value;t[n]=a}else t[n]=e.value}})),t.inputEl=n,t.value=JSON.parse(t.value),t.cols=[{textAlign:"center",values:JSON.parse(t.choices)}];var a=app.picker.create(t);n.f7Picker=a},find:function(e){return $(e).find(".picker-input")},getValue:function(e){return app.picker.get($(e)).value},setValue:function(e,n){var t=app.picker.get($(e));t.value=n,t.displayValue=n,t.open(),setTimeout((function(){t.close()}),10)},receiveMessage:function(e,n){var t=app.picker.get($(e));n.hasOwnProperty("value")&&this.setValue(e,n.value),n.hasOwnProperty("choices")&&(t.cols[0].values=n.choices),n.hasOwnProperty("rotateEffect")&&(t.params.rotateEffect=n.rotateEffect),n.hasOwnProperty("openIn")&&(t.params.openIn=n.openIn),n.hasOwnProperty("scrollToInput")&&(t.params.scrollToInput=n.scrollToInput),n.hasOwnProperty("closeByOutsideClick")&&(t.params.closeByOutsideClick=n.closeByOutsideClick),n.hasOwnProperty("toolbar")&&(t.params.toolbar=n.toolbar),n.hasOwnProperty("toolbarCloseText")&&(t.params.toolbarCloseText=n.toolbarCloseText),n.hasOwnProperty("sheetSwipeToClose")&&(t.params.sheetSwipeToClose=n.sheetSwipeToClose)},subscribe:function(e,n){$(e).on("change.f7PickerBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PickerBinding")}}),Shiny.inputBindings.register(f7PickerBinding,"f7.picker");var f7PopupBinding=new Shiny.InputBinding;$.extend(f7PopupBinding,{initialize:function(e){var n=$(e).find("script[data-for='"+e.id+"']");(n=JSON.parse(n.html())).el=e,n.on={opened:function(){$(e).trigger("shown")}};app.popup.create(n)},find:function(e){return $(e).find(".popup")},getValue:function(e){return app.popup.get($(e)).opened},receiveMessage:function(e,n){var t=app.popup.get($(e));t.opened?t.close():t.open()},subscribe:function(e,n){$(e).on("popup:opened.f7PopupBinding popup:closed.f7PopupBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7PopupBinding")}}),Shiny.inputBindings.register(f7PopupBinding,"f7.popup");var f7SelectBinding=new Shiny.InputBinding;$.extend(f7SelectBinding,{find:function(e){return $(e).find(".input-select")},getValue:function(e){return $(e).val()},setValue:function(e,n){$(e).val(n)},receiveMessage:function(e,n){n.hasOwnProperty("selected")&&this.setValue(e,n.selected),$(e).trigger("change")},subscribe:function(e,n){$(e).on("change.f7SelectBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SelectBinding")}}),Shiny.inputBindings.register(f7SelectBinding,"f7.select");var f7SheetBinding=new Shiny.InputBinding;$.extend(f7SheetBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()})),a="true"==e.value;t[n]=a}})),t.el="#"+n,t.on={opened:function(){$(e).trigger("shown")}};app.sheet.create(t)},find:function(e){return $(e).find(".sheet-modal")},getValue:function(e){return app.sheet.get($(e)).opened},receiveMessage:function(e,n){var t=app.sheet.get($(e));t.opened?t.close():t.open()},subscribe:function(e,n){$(e).on("sheet:open.f7SheetBinding sheet:close.f7SheetBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SheetBinding")}}),Shiny.inputBindings.register(f7SheetBinding,"f7.sheet");var f7SliderBinding=new Shiny.InputBinding;$.extend(f7SliderBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["min","max","step","value","scaleSteps","scaleSubSteps","valueLeft","valueRight"].indexOf(n)){var a="true"==e.value;t[n]=a}else t[n]=parseFloat(e.value)}})),t.el="#"+n;app.range.create(t)},find:function(e){return $(e).find(".range-slider")},getValue:function(e){return app.range.get($(e)).value},setValue:function(e,n){app.range.setValue(e,n)},receiveMessage:function(e,n){var t=app.range.get($(e));if(n.hasOwnProperty("min")&&(t.min=n.min,t.updateScale()),n.hasOwnProperty("max")&&(t.max=n.max,t.updateScale()),n.hasOwnProperty("step")&&(t.step=n.step,t.updateScale()),n.hasOwnProperty("scaleSteps")&&(t.scaleSteps=n.scaleSteps,t.updateScale()),n.hasOwnProperty("scaleSubSteps")&&(t.scaleSubSteps=n.scaleSubSteps,t.updateScale()),n.hasOwnProperty("scale")&&(t.scale=n.scale),n.hasOwnProperty("value")){var a=n.value;$.isArray(a)?this.setValue(e,a):(t.dual=!1,t.updateScale(),this.setValue(e,a))}n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color))},subscribe:function(e,n){$(e).on("range:change.f7SliderBinding",(function(e){n(!0)}))},unsubscribe:function(e){$(e).off(".f7SliderBinding")},getRatePolicy:function(){return{policy:"debounce",delay:250}}}),Shiny.inputBindings.register(f7SliderBinding,"f7.range");var f7SmartSelectBinding=new Shiny.InputBinding;$.extend(f7SmartSelectBinding,{initialize:function(e){var n=$(e).children().eq(0).attr("id"),t=$(e).children().eq(2);(t=JSON.parse(t.html())).el="#"+n;var a=app.smartSelect.create(t);this["smart-select-"+e.id]=a},find:function(e){return $(e).find(".smart-select")},getValue:function(e){return this["smart-select-"+e.id].getValue()},setValue:function(e,n){this["smart-select-"+e.id].setValue(n)},receiveMessage:function(e,n){n.hasOwnProperty("config")&&(this["smart-select-"+e.id].destroy(),n.config.el="#"+$(e).children().eq(0).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config)),n.hasOwnProperty("multiple")&&n.multiple&&(this["smart-select-"+e.id].destroy(),$(e).find("select").attr("multiple",""),n.config.el="#"+$(e).children().eq(0).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config)),n.hasOwnProperty("maxLength")&&(this["smart-select-"+e.id].destroy(),$(e).find("select").attr("maxLength",n.maxLength),n.config.el="#"+$(e).children().eq(0).attr("id"),this["smart-select-"+e.id]=app.smartSelect.create(n.config));n.hasOwnProperty("choices")&&($(e).find("select").empty(),$.each(n.choices,(function(t){var a,i=n.choices[t];$(e).find("select").append("<option value = '"+(a=i)+"'>"+a+"</option>")}))),n.hasOwnProperty("selected")&&this.setValue(e,n.selected)},subscribe:function(e,n){$(e).on("change.f7SmartSelectBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7SmartSelectBinding")}}),Shiny.inputBindings.register(f7SmartSelectBinding,"f7.smartselect");var f7StepperBinding=new Shiny.InputBinding;$.extend(f7StepperBinding,{initialize:function(e){var n=$(e).attr("id"),t={};[].forEach.call(e.attributes,(function(e){if(/^data-/.test(e.name)){var n=e.name.substr(5).replace(/-(.)/g,(function(e,n){return n.toUpperCase()}));if(-1==["min","max","step","value","decimalPoint"].indexOf(n)){var a="true"==e.value;t[n]=a}else t[n]=parseFloat(e.value)}})),t.el="#"+n;app.stepper.create(t);if(!t.manualInputMode){var a=$(e).find("input");$(a).attr("readonly","")}},find:function(e){return $(e).find(".stepper")},getValue:function(e){return app.stepper.get($(e)).value},setValue:function(e,n){app.stepper.setValue(e,n)},increment:function(){app.stepper.increment()},decrement:function(){app.stepper.decrement()},receiveMessage:function(e,n){var t=app.stepper.get($(e));if(n.hasOwnProperty("min")&&(t.min=n.min,t.params.min=n.min),n.hasOwnProperty("max")&&(t.max=n.max,t.params.max=n.max),n.hasOwnProperty("wraps")&&(t.params.wraps=n.wraps),n.hasOwnProperty("decimalPoint")&&(t.decimalPoint=n.decimalPoint,t.params.decimalPoint=n.decimalPoint),n.hasOwnProperty("manual")){t.params.manualInputMode=n.manual;var a=$(e).find("input");n.manual?void 0!==$(a).attr("readonly")&&$(a).removeAttr("readonly"):$(a).attr("readonly","")}n.hasOwnProperty("step")&&(t.step=n.step,t.params.step=n.step),n.hasOwnProperty("autorepeat")&&(t.params.autorepeat=n.autorepeat,t.params.autorepeatDynamic=n.autorepeat),n.hasOwnProperty("rounded")&&(n.rounded?$(e).addClass("stepper-round"):$(e).removeClass("stepper-round")),n.hasOwnProperty("raised")&&(n.raised?$(e).addClass("stepper-raised"):$(e).removeClass("stepper-raised")),n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color)),n.hasOwnProperty("size")&&($(e).hasClass("stepper-small")||$(e).hasClass("stepper-large")?$(e).hasClass("stepper-small")&&"large"==n.size?($(e).removeClass("stepper-small"),$(e).addClass("stepper-large")):$(e).hasClass("stepper-large")&&"small"==n.size&&($(e).addClass("stepper-small"),$(e).removeClass("stepper-large")):"small"==n.size?$(e).addClass("stepper-small"):"large"==n.size&&$(e).addClass("stepper-large")),n.hasOwnProperty("value")&&(this.setValue(e,n.value),t.params.value=n.value)},subscribe:function(e,n){$(e).on("stepper:change.f7StepperBinding",(function(t){app.stepper.get($(e)).params.autorepeat?n(!0):n()}))},unsubscribe:function(e){$(e).off(".f7StepperBinding")},getRatePolicy:function(){return{policy:"debounce",delay:500}}}),Shiny.inputBindings.register(f7StepperBinding,"f7.stepper");var f7TabsBinding=new Shiny.InputBinding;$.extend(f7TabsBinding,{find:function(e){return $(e).find(".tabs")},getValue:function(e){var n;return n=$(e).hasClass("standalone")?$(e).find(".tab-active"):$(e).find(".page-content.tab-active"),$(n).data("hidden")?$(".tab-link-highlight").hide():$(".tab-link-highlight").show(),$(n).attr("data-value")},receiveMessage:function(e,n){n.hasOwnProperty("selected")&&app.tab.show("#"+n.ns+"-"+n.selected)},subscribe:function(e,n){$(e).on("tab:show.f7TabsBinding",(function(t){$(e).trigger("shown"),n()}))},unsubscribe:function(e){$(e).off(".f7TabsBinding")}}),Shiny.inputBindings.register(f7TabsBinding,"f7.tabs");var f7ToggleBinding=new Shiny.InputBinding;$.extend(f7ToggleBinding,{initialize:function(e){app.toggle.create({el:e})},find:function(e){return $(e).find(".toggle")},getValue:function(e){return app.toggle.get($(e)).checked},setValue:function(e,n){app.toggle.get($(e)).checked=n},receiveMessage:function(e,n){n.hasOwnProperty("checked")&&this.setValue(e,n.checked),n.hasOwnProperty("color")&&($(e).removeClass((function(e,n){return(n.match(/(^|\s)color-\S+/g)||[]).join(" ")})),$(e).addClass("color-"+n.color))},subscribe:function(e,n){$(e).on("toggle:change.f7ToggleBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7ToggleBinding")}}),Shiny.inputBindings.register(f7ToggleBinding,"f7.toggle");var f7VirtualListBinding=new Shiny.InputBinding;$.extend(f7VirtualListBinding,{decodeHTML:function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.value},initialize:function(e){var n,t=$(e).attr("id"),a=$(e).find("script[data-for='"+t+"']");for(var i of((a=JSON.parse(a.html())).el="#"+t,a.items))i.media.length>0&&(i.media='<div class="item-media">'+this.decodeHTML(i.media)+"</div>");n=void 0===a.items[0].url?'<li><div class="item-content">{{media}}<div class="item-inner"><div class="item-title-row"><div class="item-title"><div class="item-header">{{header}}</div>{{title}}<div class="item-footer">{{footer}}</div></div><div class="item-after">{{right}}</div></div><div class="item-subtitle">{{subtitle}}</div><div class="item-text">{{content}}</div></div></div></li>':'<li><a class="item-link item-content external" href="url" target="_blank">{{media}}<div class="item-inner"><div class="item-title-row"><div class="item-title"><div class="item-header">{{header}}</div>{{title}}<div class="item-footer">{{footer}}</div></div><div class="item-after">{{right}}</div></div><div class="item-subtitle">{{subtitle}}</div><div class="item-text">{{content}}</div></div></a></li>',a.itemTemplate=n,a.searchAll=function(e,n){for(var t=[],a=0;a<n.length;a++)(n[a].title.toLowerCase().indexOf(e.toLowerCase())>=0||""===e.trim())&&t.push(a);return t},a.height=void 0!==a.items[0].media?"ios"===app.theme?112:"md"===app.theme?132:78:"ios"===app.theme?63:"md"===app.theme?73:46,app.virtualList.create(a)},find:function(e){return $(e).find(".virtual-list")},getValue:function(e){var n=app.virtualList.get($(e));return{length:n.items.length,current_from:n.currentFromIndex+1,current_to:n.currentToIndex+1,reach_end:n.reachEnd}},setValue:function(e,n){var t=app.virtualList.get($(e));t.resetFilter();var a=function(e){var n;if(void 0===e.length)n=`<div class="item-media">${e.media}</div>`,e.media=n;else for(var t=0;t<e.length;t++)n=`<div class="item-media">${e[t].media}</div>`,e[t].media=n;return e};switch(n.action){case"appendItem":t.appendItem(a(n.item));break;case"prependItem":t.prependItem(a(n.item));break;case"appendItems":t.appendItems(a(n.items));break;case"prependItems":t.prependItems(a(n.items));break;case"replaceItem":t.replaceItem(n.index,n.item);break;case"replaceAllItems":t.replaceAllItems(n.items);break;case"moveItem":t.moveItem(n.oldIndex,n.newIndex);break;case"insertItemBefore":t.insertItemBefore(n.index,a(n.item));break;case"filterItems":t.filterItems(n.indexes);break;case"deleteItem":t.deleteItem(n.index);break;case"deleteAllItems":t.deleteAllItems(n.indexes);break;case"scrollToItem":t.scrollToItem(n.index)}$(e).trigger("change")},receiveMessage:function(e,n){this.setValue(e,n)},subscribe:function(e,n){$(e).on("change.f7VirtualListBinding",(function(e){n()}))},unsubscribe:function(e){$(e).off(".f7VirtualListBinding")}}),Shiny.inputBindings.register(f7VirtualListBinding,"f7.virtuallist");
//# sourceMappingURL=shinyMobile.min.js.map
